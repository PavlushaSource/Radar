# Dogs Radar

<img width="100" alt="logo" align="right" src="https://github.com/user-attachments/assets/1e257c78-76a6-41dc-b34d-d898cf4489e8">

Dogs Radar - инсутремент для симуляции взаимодействия объектов на плоскости

Для увеличения красоты и понимания происходящего, в качестве объектов в приложении используются собачки

[Техническое задание](https://docs.google.com/document/d/1XVtSK7dWyxdnMc5_6oWdgPVQMg05BTsL3GECMffpDtE/edit?tab=t.0) и
[акт приёмки](acceptCriteria.md)

## Правила взаимодействия собак

Взаимодействие собак между собой определяется по следующим правилам:

1. Если две собаки находятся на расстоянии не превышающем `R0`, то они пытаются начать драку с вероятностью 1

2. Если две собаки находятся на расстоянии `R1`, так, что `R1 > R0`, они начинают рычать с вероятностью обратно
   пропорциональной квадрату расстояния между ними

3. Если вокруг собаки нет соперников, она перемещается согласно текущему правилу

## Функциональность приложения

1. Обработка на движке более чем 200 тысяч собак за менее 500 мс
2. Подсветка взаимодействия собак
3. Возможность регулирования следующих параметров симуляции:
    - Количество собак
    - Скорость обновления перемещений и состояний собак
    - Радиусы `R0` и `R1`, задающие ограничения максимального расстояния драки и рычания соответственно
    - Паттерн движения собак
        * Свободное (Simple)
        * Движение прямо с отклонением на некоторый угол (Vector)
    - Функция пересчета расстояний
        * Евклидово расстояние
        * Манхэттенское расстояние
        * Половина длины окружности, построенной через 2 рассматриваемых собаки
4. Возможность зума и перемещения камеры по карте для детального наблюдения за собаками
5. Взможность рисования барьеров на фронте

## Демонстрация работы приложения

### Выбор параметров

![image](https://github.com/user-attachments/assets/5c39ae80-02db-486f-b71f-d3cc5f000b9e)


### Корректная работа с границами

![borderdAndDogs](https://github.com/user-attachments/assets/2d88d783-cf8a-4ce0-a698-3f4b50c44989)

### Демонстрация на большом количестве собак

![muchDogs](https://github.com/user-attachments/assets/e86c3993-877e-4d7a-8ffb-20ddb7e3fa90)

## Запуск приложения

Для запуска нашего приложения вы можете использовать готовые сборки под разные платформы,
представленные [здесь](https://github.com/PavlushaSource/Radar/releases)

Для самостоятельной сборки и запуска приложения используйте:

```shell 
  make run
```

Самостоятельно можно посмотреть бенчмарки с профайлером для движка отдельно, для этого используйте:

```shell
   make run-engine
   go tool pprof -http=:8080 cpu.pprof
```

Затем нужно зайти на `localhost:8080` для просмотра подробного дерева профайлинга или флэйм графа.

## Архитектура и используемые решения

### [Описание алгоритма](algo.md)

### [Инструменты и архитектурная документация](arch.md)

